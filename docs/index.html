<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>地球的動態革命：從大陸漂移到板塊構造</title>
    <style>
        /* --- 全局重置與基本設定 --- */
        :root {
            --primary-color: #005a9c; /* 深度科學藍 */
            --secondary-color: #333;
            --background-color: #f4f7f6;
            --text-color: #333;
            --header-font: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            --body-font: 'Noto Sans TC', 'Microsoft JhengHei', 'PingFang TC', sans-serif;
            --card-bg: #ffffff;
            --border-radius: 8px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            --code-bg: #2d2d2d;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--body-font);
            line-height: 1.7;
            background-color: var(--background-color);
            color: var(--text-color);
            font-size: 16px;
        }

        /* --- 導航列 --- */
        .navbar {
            background-color: var(--card-bg);
            padding: 1rem 2rem;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .navbar-brand {
            font-family: var(--header-font);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            white-space: nowrap;
        }

        .navbar-links {
            list-style: none;
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .navbar-links a {
            text-decoration: none;
            color: var(--secondary-color);
            font-weight: 500;
            transition: color 0.3s ease;
            white-space: nowrap;
        }

        .navbar-links a:hover {
            color: var(--primary-color);
        }

        /* --- 頁首標題 --- */
        .hero {
            background: linear-gradient(rgba(0, 90, 156, 0.8), rgba(0, 90, 156, 0.8)), url('assets/fig1.11.png');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 10rem 2rem 5rem;
            margin-top: 70px; /* 避開固定導航列 */
        }

        .hero h1 {
            font-family: var(--header-font);
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .hero p {
            font-size: 1.25rem;
            font-weight: 300;
            max-width: 700px;
            margin: 0 auto;
        }

        /* --- 主要內容區 --- */
        .container {
            max-width: 960px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .chapter {
            background-color: var(--card-bg);
            margin-bottom: 2rem;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .chapter.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .chapter h2 {
            font-family: var(--header-font);
            font-size: 2.25rem;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .chapter h3 {
            font-family: var(--header-font);
            font-size: 1.75rem;
            color: var(--secondary-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .chapter h4 {
            font-family: var(--header-font);
            font-size: 1.25rem;
            color: var(--primary-color);
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .chapter p, .chapter ul, .chapter ol {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .chapter ul, .chapter ol {
            margin-left: 1.5rem;
        }

        .chapter li {
            margin-bottom: 0.5rem;
        }

        /* --- 圖片與圖說 --- */
        figure {
            margin: 1.5rem 0;
            background: #fafafa;
            padding: 1rem;
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            text-align: center;
        }

        figure img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            border-radius: 4px;
        }

        figcaption {
            margin-top: 0.75rem;
            text-align: center;
            font-size: 0.95rem;
            color: #555;
            font-style: italic;
            line-height: 1.5;
        }

        /* --- 特別引言 --- */
        blockquote {
            border-left: 5px solid var(--primary-color);
            background-color: #eef7ff;
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            font-weight: 500;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        /* --- 作業表格樣式 --- */
        .assignment-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            font-size: 1rem;
            box-shadow: var(--shadow);
            overflow-x: auto;
            display: block;
            white-space: nowrap;
        }

        .assignment-table th,
        .assignment-table td {
            border: 1px solid #ddd;
            padding: 0.75rem;
            text-align: left;
        }

        .assignment-table th {
            background-color: #f0f4f8;
            color: var(--primary-color);
            font-weight: 600;
        }

        .assignment-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .assignment-table tr:hover {
            background-color: #f1f1f1;
        }

        /* --- 程式碼區塊樣式 --- */
        pre {
            background-color: var(--code-bg);
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            margin: 1.5rem 0;
        }

        pre code {
            font-family: inherit;
            background: none;
            padding: 0;
        }

        /* --- 頁尾 --- */
        footer {
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
            background-color: var(--secondary-color);
            color: #f4f7f6;
            font-size: 0.95rem;
        }

        /* --- 響應式設計 --- */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                padding: 0.75rem 1rem;
                text-align: center;
            }
            .navbar-brand {
                margin-bottom: 0.5rem;
                font-size: 1.3rem;
            }
            .navbar-links {
                gap: 1rem;
                font-size: 0.9rem;
                justify-content: center;
            }
            .hero {
                padding: 7rem 1rem 3rem;
                margin-top: 110px;
            }
            .hero h1 {
                font-size: 2.25rem;
            }
            .hero p {
                font-size: 1.1rem;
            }
            .chapter {
                padding: 1.5rem;
            }
            .chapter h2 {
                font-size: 1.9rem;
            }
            .chapter h3 {
                font-size: 1.6rem;
            }
            .assignment-table {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .navbar-links {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="#" class="navbar-brand">地球的動態革命</a>
        <ul class="navbar-links">
            <li><a href="#chapter1">漂移假說</a></li>
            <li><a href="#chapter2">關鍵證據</a></li>
            <li><a href="#chapter3">板塊誕生</a></li>
            <li><a href="#chapter4">熱點理論</a></li>
            <li><a href="#assignment">課程作業</a></li>
            <li><a href="#example">作業範例</a></li>
        </ul>
    </nav>

    <header class="hero">
        <h1>地球的動態革命</h1>
        <p>從大陸漂移到板塊構造的完整科學探案</p>
    </header>

    <main class="container">

        <section id="chapter1" class="chapter">
            <h2>第 1 章：韋格納的大膽假說</h2>
            <p>我們的故事始於 20 世紀初，一位德國氣象學家<strong>阿爾弗雷德·韋格納 (Alfred Wegener)</strong>。他提出了一個當時被視為異端邪說的理論：「大陸漂移」(Continental Drift)。</p>
            
            <h3>拼圖與古氣候證據</h3>
            <p>韋格納不只是看著地圖，他收集了跨學科的證據。他注意到，如果把大陸拼回去，許多地質現象就能得到完美的解釋。</p>
            
            <figure>
                <img src="assets/fig1.5.png" alt="韋格納的盤古大陸重建圖">
                <figcaption><strong>Fig. 1.5 (a)</strong> 韋格納的盤古大陸 (Pangaea) 重建圖。他用這個模型解釋了：<br>
                    <strong>(K) 煤炭：</strong>北美和歐洲的煤炭礦床（形成於熱帶雨林）在拼合後位於古赤道上。<br>
                    <strong>(E) 冰層：</strong>南美、非洲、印度、澳洲的古冰川遺跡（在今天看來分佈零散）在拼合後完美地匯聚於古南極。
                </figcaption>
            </figure>

            <h3>致命的缺陷與遲來的正義</h3>
            <p>韋格納的證據非常有力，但他的假說卻被當時的學術界嘲笑。為什麼？因為他<strong>無法提供一個合理的「驅動機制」</strong>。</p>
            <p>他錯誤地認為大陸是像「破冰船」一樣「犁」過堅硬的海底。物理學家計算後證明這根本不可能。這個「致命缺陷」讓他的理論被冰凍了近 50 年。</p>
            
            <blockquote>
                <strong>科學的難題：</strong>韋格納是個偉大的觀察者，但他不是個好的物理學家。他「看到」了什麼 (What)，但他無法解釋「如何」 (How) 和「為什麼」 (Why)。
            </blockquote>

            <p>直到 1960 年代，隨著電腦的發明，科學家才替他平反。1965 年的 "Bullard Fit" 使用電腦計算，證實了大陸邊緣（在水下 900 公尺處）的吻合度高得驚人，絕對不是巧合。</p>

            <figure>
                <img src="assets/fig1.6.png" alt="Bullard 電腦拼合大西洋兩岸">
                <figcaption><strong>Fig. 1.6</strong> Bullard 等人使用電腦，以 500 噚（約 900 公尺）等深線拼合大西洋兩岸。黑色為重疊區域，灰色為空隙，顯示了極高的吻合度。</figcaption>
            </figure>
            <figure>
                <img src="assets/fig1.7.png" alt="電腦拼合岡瓦那大陸">
                <figcaption><strong>Fig. 1.7</strong> 同樣的電腦技術被用來重建南方的「岡瓦那大陸」(Gondwanaland)。</figcaption>
            </figure>
        </section>

        <!-- 其餘章節內容相同，僅修正圖片路徑為 assets/ -->
        <!-- 以下為節錄重點修正部分 -->

        <section id="chapter2" class="chapter">
            <h2>第 2 章：史上最強的證據</h2>
            <p>電腦拼圖只證明了「大陸曾經連在一起」，但仍未解釋「它們如何移動」。真正的答案，來自三個完全不同領域的關鍵線索。</p>

            <h3>線索 A：地球的「奶油餅乾」結構</h3>
            <p>第一個突破來自地震學。我們發現地球的表層並非鐵板一塊，而是可以從「力學」上分為兩層：</p>
            <ul>
                <li><strong>岩石圈 (Lithosphere)：</strong>外層堅硬、脆性的「餅乾」。它包含了地殼和一小部分的上部地函。</li>
                <li><strong>軟流圈 (Asthenosphere)：</strong>岩石圈下方、高溫、具可塑性的「奶油夾心」。</li>
            </ul>
            <p><strong>這就是解答！</strong>大陸不是自己「犁」過海底；而是「整塊岩石圈餅乾」（包含大陸和海底）<strong>一起漂浮在「軟流圈奶油」之上！</strong></p>
            
            <figure>
                <img src="assets/fig1.9.png" alt="地球的力學分層圖">
                <figcaption><strong>Fig. 1.9</strong> 地球的力學分層：堅硬的「岩石圈」漂浮在具可塑性的「軟流圈」之上。這就是板塊構造的物理基礎。</figcaption>
            </figure>

            <!-- 其他圖片路徑同理修正 -->
        </section>

        <!-- 省略中間章節，僅展示關鍵修正 -->

        <section id="example" class="chapter">
            <h2>第 6 章：作業範例 (納斯卡板塊)</h2>
            <p>這是一個以「納斯卡板塊 (Nazca Plate)」為主題的完整作業範例。它包含了作業要求的第一部分（Python 程式碼）和第二部分（板塊邊界說明）。</p>
            
            <blockquote>
                <strong>給同學的提示：</strong><br>
                你需要安裝 <code>pygmt</code>, <code>obspy</code>, 和 <code>pandas</code> 才能執行此程式碼。<br>
                使用 Anaconda (miniforge) 的環境，你可以透過以下指令安裝：<br>
                <code>conda install -c conda-forge pygmt obspy pandas</code>
            </blockquote>

            <h3>Part 1: 範例 Python 程式碼</h3>
            <p>這支 Python 腳本 (<code>nazca_example.py</code>) 會自動從 IRIS 下載地震資料，載入火山資料，並使用 PyGMT 繪製出符合要求的地圖，最後儲存為 <code>nazca_plate_map.png</code>。</p>
            
            <pre><code>
import obspy
from obspy.clients.fdsn import Client
import pygmt
import pandas as pd

print("PyGMT 和 ObsPy 範例程式：納斯卡板塊 (Nazca Plate)")
print("開始執行...")

# --- 1. 設定 ---
REGION = [-110, -70, -60, 10]
START_TIME = obspy.UTCDateTime("2010-01-01")
END_TIME = obspy.UTCDateTime("2025-01-01")
MIN_MAGNITUDE = 5.5

FAMOUS_EQ = {
    "lon": -73.05, "lat": -38.29, "depth": 33, "mag": 9.5,
    "label": "1960 Valdivia EQ (M9.5)"
}

OUTPUT_FILE = "nazca_plate_map.png"

# --- 2. 獲取地震資料 ---
print(f"正在從 IRIS 下載 {START_TIME.year} 至 {END_TIME.year} 的地震資料...")
try:
    client = Client("IRIS")
    catalog = client.get_events(
        starttime=START_TIME, endtime=END_TIME,
        minlatitude=REGION[2], maxlatitude=REGION[3],
        minlongitude=REGION[0], maxlongitude=REGION[1],
        minmagnitude=MIN_MAGNITUDE,
    )
    print(f"成功獲取 {len(catalog)} 筆地震事件。")
except Exception as e:
    print(f"錯誤：無法從 IRIS 下載資料。 {e}")
    catalog = obspy.Catalog()

# --- 3. 處理資料 ---
data = []
for event in catalog:
    try:
        origin = event.preferred_origin() or event.origins[0]
        magnitude = event.preferred_magnitude() or event.magnitudes[0]
        data.append({
            "lon": origin.longitude, "lat": origin.latitude,
            "depth": origin.depth / 1000, "mag": magnitude.mag,
            "time": origin.time.strftime("%Y-%m-%d")
        })
    except: continue
eq_df = pd.DataFrame(data)

print("正在載入火山資料...")
volcano_df = pygmt.datasets.load_sample_data("world_volcanoes")
volcano_df = volcano_df[
    (volcano_df.longitude >= REGION[0]) & (volcano_df.longitude <= REGION[1]) &
    (volcano_df.latitude >= REGION[2]) & (volcano_df.latitude <= REGION[3])
]
print(f"篩選出 {len(volcano_df)} 座火山。")

# --- 4. 繪製地圖 ---
print("開始使用 PyGMT 繪製地圖...")
fig = pygmt.Figure()
pygmt.makecpt(cmap="viridis", series=[0, 700], reverse=True, background=True)
grid = pygmt.datasets.load_earth_relief(resolution="02m", region=REGION)
fig.grdimage(grid=grid, projection="M15c", frame=True, cmap="geo", shading=True)
fig.coast(shorelines="1/0.5p,black", borders="1/0.2p,gray", water="skyblue")
fig.basemap(frame=["a", "+t納斯卡板塊 (Nazca Plate) 地震與火山活動圖"])

fig.plot(x=volcano_df.longitude, y=volcano_df.latitude, style="t0.25c", color="red", pen="0.5p,black", label="火山 (Volcano)")
fig.plot(x=eq_df.lon, y=eq_df.lat, style="c", size=eq_df.mag * 0.05, cmap=True, zvalue=eq_df.depth, color="white@50", pen="0.5p,black", label="M5.5+ 地震 (依深度著色)")
fig.plot(x=FAMOUS_EQ["lon"], y=FAMOUS_EQ["lat"], style="a0.5c", color="yellow", pen="1p,red", label=f"著名地震: {FAMOUS_EQ['label']}")
fig.text(x=FAMOUS_EQ["lon"], y=FAMOUS_EQ["lat"], text=FAMOUS_EQ['label'], font="10p,Helvetica-Bold,black", justify="LM", offset="0.5c/0c")
fig.colorbar(frame=["+l地震深度", "a100", "f", "+u km"], position="JMR+o0.5c/0c+w7c/0.4c")
fig.legend(position="JBL+o0.5c/0.5c", box="+gwhite+p1p")
fig.savefig(OUTPUT_FILE)
fig.show()
print(f"地圖繪製完成，儲存至 {OUTPUT_FILE}...")
            </code></pre>

            <h3>Part 2: 範例地圖</h3>
            <figure>
                <img src="assets/nazca_plate_map.png" alt="納斯卡板塊地圖範例">
                <figcaption><strong>範例地圖：</strong>納斯卡板塊 (Nazca Plate) 地震與火山活動圖。這張圖是由 Part 1 的 Python 程式碼生成的。</figcaption>
            </figure>

            <!-- Part 3 板塊邊界說明保持原樣 -->
        </section>

    </main>

    <footer>
        <p>這場從「大陸漂移」到「板塊構造」的科學革命，是地球科學史上最偉大的整合。<br>
        它教會我們，地球是一個不斷演化、生生不息的動態系統。</p>
        <p style="margin-top: 1rem; font-size: 0.9rem;">&copy; 2025 地球物理學教室。由 Gemini 協助編譯。</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const chapters = document.querySelectorAll('.chapter');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {  // 修正：IntersectTing → isIntersecting
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // 動畫只觸發一次
                    }
                });
            }, { threshold: 0.1 });

            chapters.forEach(chapter => observer.observe(chapter));
        });
    </script>

</body>
</html>